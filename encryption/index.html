<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Encryption / Decryption</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">


  </head>
  <body ng-app="app" ng-controller="ctrl" class="container">

    <h1>Decrypt</h1>
    <label>password</label><br>
    <input ng-model='password'><br>

    <label>encrypted</label><br>
    <textarea ng-model="cyphertext" ng-change="decrypt()" rows=6 cols=80></textarea><br>

    <label>decrypted</label><br>
    <textarea ng-model="actual" readonly rows=6 cols=80></textarea><br>

    <button ng-click="decrypt()">decrypt</button>


    <h1>Encrypt</h1>
    <label>password</label><br>
    <input ng-model='password'><br>

    <label>plaintext</label><br>
    <textarea ng-model="plaintext" ng-change="encrypt()" rows=6 cols=80></textarea><br>

    <label>encrypted</label><br>
    <textarea ng-model="encrypted" readonly rows=6 cols=80></textarea><br>

    <button ng-click="encrypt()">encrypt</button>

    <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>

    <script>

      var app = angular.module("app", []);

      app.controller("ctrl", function($scope) {
        $scope.cyphertext = "U2FsdGVkX18ZUVvShFSES21qHsQEqZXMxQ9zgHy+bu0=";
        $scope.password = "Secret Passphrase";

        $scope.decrypt = function() {
          $scope.decrypted = CryptoJS.AES.decrypt($scope.cyphertext, $scope.password);
          $scope.actual = $scope.decrypted.toString(CryptoJS.enc.Utf8);
        }        

        $scope.encrypt = function() {
          $scope.encrypted = CryptoJS.AES.encrypt($scope.plaintext, $scope.password);
          $scope.actual = $scope.decrypted.toString(CryptoJS.enc.Utf8);
        }
      });

    </script>
  
  </body>
</html>