<html>
  <head>
    <title>#SHA2017 genesis.re</title>
    <style>
      body{
        margin: 0;
      }
      canvas{
        width: 100%;
        height: 100%
      }

      header {
        position: absolute;
        top: 20px;
        left: 20px;
        padding: 20px;
        background: rgba(0, 0, 0, 0.5);
        display: inline-block;
        margin: 10px 0 0 10px;
        color: white;
        text-decoration: none;
        font-size: 1.2em;
        line-height: 1.5em;
        font-family: sans-serif;
        color: white;
        font-weight: bold;
    }

    header a {
      color: white;
      text-decoration: none;
      transition: all 1000ms ease-out;
      border-bottom: 3px solid white;
    }

    header a:hover {
      color: yellow;
      border-bottom: 3px solid yellow;
    }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/86/three.min.js"></script>

    <meta property="og:title" content="#SHA2017 genesis.re"/>
    <meta property="og:image" content="https://astralship.org/images/facebook-share-thumbnail.jpg"/>
    <meta property="og:site_name" content="BTC: 17zVA88xk4Ma7Cza4NXGYcP4Z1Qz7TUdzV"/>
    <meta property="og:description" content="Michał Stefanów - shapeshifter transgressing hyperdimensional multiverse. Also alchemist, manifestor, technoshaman, certified psychonautics engineer. Most recently catalyst, conduit putting together astralship.org chapel."/>


    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@genesisdotre">
    <meta name="twitter:creator" content="@stefek99">
    <meta name="twitter:title" content="#SHA2017 genesis.re">
    <meta name="twitter:description" content="BTC: 17zVA88xk4Ma7Cza4NXGYcP4Z1Qz7TUdzV - Michał Stefanów - shapeshifter transgressing hyperdimensional multiverse. Also alchemist, manifestor, technoshaman, certified psychonautics engineer. Most recently catalyst, conduit putting together astralship.org chapel.">
    <meta name="twitter:image" content="https://genesis.re/SHA2017-resized.jpg">

  </head>
  <body>
    <noscript>Please enable JS - there is a clever 360 image here. Direct link: /SHA2017.jpg</noscript>

    <img src="https://genesis.re/SHA2017-resized.jpg" style="display:none"> <!-- micro hack for linters that scan for images -->

    <header>
        <a href="https://astralship.org">astralship.org</a><br>
        <div style="height:10px"></div>
        #hackbase #coliving <br>
        <div style="height:10px"></div>
        <a href="mailto:email@genesis.re">email@genesis.re</a><br>
        <div style="height:10px"></div>
        hackers of planets
    </header>

    <script>
      THREE.ImageUtils.crossOrigin = '';
      
      var manualControl = false;
      var justReleased;
      var justReleasedTimeout;
      var longitude = 0;
      var latitude = 0;
      var savedX;
      var savedY;
      var savedLongitude;
      var savedLatitude;

      // some magic - scene, mesh, renderer, material, etc...
      renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
      camera.target = new THREE.Vector3(0, 0, 0);
      var sphere = new THREE.SphereGeometry(100, 100, 40);
      sphere.applyMatrix(new THREE.Matrix4().makeScale(-1, 1, 1));
      var sphereMaterial = new THREE.MeshBasicMaterial();
      sphereMaterial.map = THREE.ImageUtils.loadTexture("SHA2017.jpg")
      var sphereMesh = new THREE.Mesh(sphere, sphereMaterial);
      scene.add(sphereMesh);

      document.addEventListener("mousedown", onDocumentMouseDown, false);
      document.addEventListener("mousemove", onDocumentMouseMove, false);
      document.addEventListener("mouseup", onDocumentMouseUp, false);      

      // supporting touch events on mobile
      document.addEventListener("touchstart", onDocumentMouseDown, false);
      document.addEventListener("touchmove", onDocumentMouseMove, false);
      document.addEventListener("touchend", onDocumentMouseUp, false);
        
      render();
               
      function render(){
        requestAnimationFrame(render);

        if (justReleased) {
            return;
        }
        
        if(!manualControl){
          longitude += 0.1;
        }

        // limiting latitude (cannot point under your feet, better experience)
        latitude = Math.max(-87, Math.min(87, latitude));
        camera.target.x = 500 * Math.sin(THREE.Math.degToRad(90 - latitude)) * Math.cos(THREE.Math.degToRad(longitude));
        camera.target.y = 500 * Math.cos(THREE.Math.degToRad(90 - latitude));
        camera.target.z = 500 * Math.sin(THREE.Math.degToRad(90 - latitude)) * Math.sin(THREE.Math.degToRad(longitude));
        camera.lookAt(camera.target);
        renderer.render(scene, camera);    
      }
      
      // when the mouse is pressed, we switch to manual control and save current coordinates
      function onDocumentMouseDown(event){
        if (event.type.indexOf("touch") !== -1) { event = event.touches[0]; } // same event listener for both mouse and touch - using first touch
        
        clearTimeout(justReleasedTimeout);
        justReleased = false;
        manualControl = true;
        savedX = event.clientX;
        savedY = event.clientY;
        savedLongitude = longitude;
        savedLatitude = latitude;
      }

      function onDocumentMouseMove(event){
        if (event.type.indexOf("touch") !== -1) { event = event.touches[0]; }

        if(manualControl){
          longitude = (savedX - event.clientX) * 0.1 + savedLongitude;
          latitude = (event.clientY - savedY) * 0.1 + savedLatitude;
        }
      }

      function onDocumentMouseUp(event) {
        // it's better experience to wait 3 seconds before starting rotating again
        justReleased = true;
        manualControl = false;

        justReleasedTimeout = setTimeout(function() {
            justReleased = false;
        }, 3000);

      }
      
    </script>
  </body>
</html>